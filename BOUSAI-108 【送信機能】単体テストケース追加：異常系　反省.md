
# BOUSAI-108 【送信機能】単体テストケース追加：異常系　問題と反省.md


## 問題001:テストでNGの出るテストクラスをPUSHしていた

### 要因・反省点

- 修正の手順である「修正→目視→テスト」を守らなかった。
- テストをする前にPUSHしたか、テスト後再び修正を行いその後テストを行わずにPUSHした。

### 改善案

- 予定していた修正がすべて終わったらまず目視確認を先に行う。
- その後、変更のあったすべての機能に対し単体テストをかけてから提出する。
- 全ケースOKが出たらすぐにPUSHする。
  - この間ファイルにはテスト用の変更の解除以外一切手を加えず、再びの目視確認もしない。
    - 確認をして、もしミスを発見し修正するとテストを忘れる可能性があるため

- 提出前最後は必ずテストで終わる。
- 「自分の自信、責任を持って出せるもの」になってから提出に動く。


## 問題002:タスクに想定より大幅に時間がかかった

### 要因・反省点

- タスクを粒度の粗いまま把握している。
  - 詰まるであろうところの対策を取れていない。

- タスクにかかる時間の見積もりに明確な根拠のないまま、感覚だけで宣言している。
- 見積もり時間にバッファがない。
  - 「そんなにかかる？」と聞かれるのを恐れ、短めに宣言してしまっている。

- 当初の予定よりやること（修正）が増えていることに気づいていない。
  - 当初の予定の修正と、そうでない修正を頭の中で切り分けられていない。

- 助けを求めることに対する心理的ハードルが高く、時間をかけてでも自力で解決しようとしている。
  - 質問をするために必要な「やりたいこと」「現状」「試したこと」などをまとめるのを億劫に感じている。
  - 「検索すればなんとかなるだろう」という悪い楽観を持っている。

### 改善案

- タスクを分解し、何も考えなくてもできる「手順レベル」まで細かくシュミレーションし、言語化する。
  - 手順レベルでできない（どうやればよいかわからない）ものは、調べるか聞いてわかるようにする。
  - 「その手順をやるときになったら考える」という手順にはしない。

- 上記のシミュレーションや似たような作業を実際にやってかかった時間など、根拠をもって時間を見積もる。
  - 根拠ができるまでに見積もりが必要であれば、絶対に終わるであろうくらい長めに見積もる。
  - 根拠を持った見積もりにもバッファをもたせ、不測の事態に備える。

- 今自分がどの作業をしているのか（全体の進捗のどこなのか）を定期的に把握する。
  - 進捗外のこと（ソフトが起動しない問題の解決など）をしている場合は、人に頼ってでも早く解決し、本来の作業に一刻も早く戻る。

- 同じ問題で連続15分詰まったら自力での解決を諦める。
  - 「やりたいこと」「現状」「試したこと」を言語化してまとめ、上長に相談する。


## 問題003:修正箇所が多すぎて問題の把握・説明に時間がかかった／レビュー者の理解に時間がかかった

### 要因・反省点

- 指示された修正以外の修正を行っている。

### 改善案

- チケットに記載されている修正と上長が認識している修正以外はやらない。
- もし上記以外で修正したほうが良いと思う箇所がある場合は、上長に相談する。
  - 影響範囲や修正理由の問題があるため、その場しのぎ的に修正しない。


## 問題004:「修正箇所まとめ」の記述

### 要因・反省点

- 修正意図がはっきりせず、影響範囲などをレビュー者が確認できない記述がある。

> 「ケース010の「更新されない」データの数や期待データをcsvに合わせて変更」

> 「ケース010のcsvの観測時刻を仕様と矛盾しないよう修正」

### 改善案

- 「なぜ修正しなければならないのか（修正理由）」
- 「なぜこう修正すると解決するのか（修正意図）」を明記する。


## 問題005:プルリクエスト詳細欄とチケットコメントで内容が違う

### 要因・反省点

- チケットコメントに一度書いた後、プルリクエストに貼り付けてから再度確認し編集を行った。
- その編集をチケットコメントに同期していない。

### 改善案

- 情報はすべてチケットコメントに一元化する。
  - マージ後なども見返すのはチケットであるため
- チケット上で編集して確定させてから、プルリクエスト詳細欄に貼り付ける。
